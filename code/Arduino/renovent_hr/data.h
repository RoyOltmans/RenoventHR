/*-------------------Webpages----------------*/
// Normal Page
String indexNormalHTML = "<!DOCTYPE HTML> <meta charset=\"utf-8\"> <meta name=\"apple-mobile-web-app-capable\" content=\"yes\" /> <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\"> <meta name=\"viewport\" content=\"width=device-width, user-scalable=no\"> <title>Renovent HR - WiFi</title> <link rel=\"stylesheet\" href=\"http://code.jquery.com/mobile/1.0/jquery.mobile-1.0.min.css\" /> <link rel=\"stylesheet\" href=\"http://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css\"> <script src=\"http://code.jquery.com/jquery-1.6.4.min.js\"></script> <script src=\"http://code.jquery.com/mobile/1.0/jquery.mobile-1.0.min.js\"></script> <style class=\"cp-pen-styles\">@import url(http://fonts.googleapis.com/css?family=Roboto:400); * { margin: 0; padding: 0; box-sizing: border-box; } body { background-color: #212121; text-rendering: auto; -webkit-font-smoothing: antialiased; font-family: Roboto; } .text-wrapper { position: absolute; width: 100vw; bottom: 20px; text-align: center; } .text-wrapper p { font-size: 15px; color: #555; } .text-wrapper p a { text-decoration: none; color: #03a9f4; } .main-wrapper { display: table; margin: 0px auto 0; } .main-wrapper .buttons-wrapper { display: table-cell; vertical-align: middle; height: 59px; width: 330px; border-radius: 7px; background-color: black; border: 2px solid black; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.55); }.main-wrapper .buttons-wrapper:after { content: \"\"; display: block; clear: both;}.main-wrapper .buttons-wrapper .button { position: relative; z-index: 1; float: left; padding: 10px 15px; background-image: linear-gradient(#333, #222); text-align: center; margin: 0 1px; border-radius: 2px; border-top: 1px solid rgba(255, 255, 255, 0.25); border-left: 1px solid rgba(255, 255, 255, 0.05); border-right: 1px solid rgba(255, 255, 255, 0.05); box-shadow: inset 0 1px 0 rgba(0, 0, 0, 0.1); cursor: pointer; transition: all 0.175s ease;}.main-wrapper .buttons-wrapper .button:first-child { border-top-left-radius: 5px; border-bottom-left-radius: 5px; margin-left: 0;}.main-wrapper .buttons-wrapper .button:first-child.selected:before { display: none;}.main-wrapper .buttons-wrapper .button:last-child { border-top-right-radius: 5px; border-bottom-right-radius: 5px; margin-right: 0;}.main-wrapper .buttons-wrapper .button:last-child.selected:after { display: none;}.main-wrapper .buttons-wrapper .button:hover { z-index: 2; background-image: linear-gradient(#373737, #262626); box-shadow: inset 0 1px 0 rgba(0, 0, 0, 0.1), 0 4px 16px rgba(0, 0, 0, 0.5);}.main-wrapper .buttons-wrapper .button .fa { color: #424242; text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.75); font-size: 28px; width: 32px;}.main-wrapper .buttons-wrapper .button.selected { z-index: 3; cursor: default; background-image: linear-gradient(#202020, #151515); border-top-color: transparent; border-left-color: rgba(0, 0, 0, 0.55); border-right-color: rgba(0, 0, 0, 0.55); box-shadow: inset 0 1px 6px rgba(0, 0, 0, 0.5), 0 10px 20px rgba(255, 255, 255, 0.06);}main-wrapper .buttons-wrapper .button.selected:after, .main-wrapper .buttons-wrapper .button.selected:before { content: \"\"; display: block; position: absolute; top: 0; width: 1px; height: 100%; background-image: linear-gradient(rgba(0, 0, 0, 0.25), rgba(2, 165, 238, 0.4), rgba(0, 0, 0, 0.25));}.main-wrapper .buttons-wrapper .button.selected:before { left: -4px;}.main-wrapper .buttons-wrapper .button.selected:after { right: -4px;}.main-wrapper .buttons-wrapper .button.selected .fa { color: white; text-shadow: 0 0 10px rgba(2, 165, 238, 0.75);}.main-wrapper .buttons-wrapper .button.selected .fa:after { content: \"\"; display: block; position: absolute; bottom: -3px; left: 0; width: 80px; height: 1px; background-image: linear-gradient(to right, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.045), rgba(255, 255, 255, 0));}</style> <SCRIPT> var xmlHttp=createXmlHttpObject(); var wtwState; function createXmlHttpObject(){ if(window.XMLHttpRequest){ xmlHttp=new XMLHttpRequest(); }else{ xmlHttp=new ActiveXObject('Microsoft.XMLHTTP'); } return xmlHttp; } function process(){ if(xmlHttp.readyState==0 || xmlHttp.readyState==4){ xmlHttp.open('get','/status',true); xmlHttp.onreadystatechange=handleServerResponse; xmlHttp.send(null); } setTimeout('process()',1000); } function handleServerResponse(){ if(xmlHttp.readyState==4 && xmlHttp.status==200){ jsonResponse = JSON.parse(xmlHttp.responseText); if (jsonResponse.wtwState != wtwState) { wtwState = jsonResponse.wtwState; document.getElementById('0').className = ('button'); document.getElementById('1').className = ('button'); document.getElementById('2').className = ('button'); document.getElementById('3').className = ('button'); document.getElementById(parseInt(wtwState)).className = ('button selected'); } if (jsonResponse.changeFilter==1){ document.getElementById('changeFilter').innerHTML=\"<font color=white>You need to </font><b><font color=red>change the filter</font></b><font color=white>!</font><br><br>\"; } else { document.getElementById('changeFilter').innerHTML=\"<br><br>\"; } } } </SCRIPT> <BODY onload='process()'> <div data-role=\"header\" data-position=\"inline\"> <h1>Renovent HR</h1> </div> <div class=\"ui-body ui-body-a\"> <BR>Using this webpage you can change the state of the Renovent HR.<BR><BR> <center><b><P STYLE=\"font-size: 18pt;\">Current state</p><b/></center> <div class='main-wrapper'> <div class='buttons-wrapper'> <div name=wtwState id=0 class='button selected'><i class='fa fa-gear'></i></div> <div name=wtwState id=1 class='button '><i class='fa'>1</i></div> <div name=wtwState id=2 class='button '><i class='fa'>2</i></div> <div name=wtwState id=3 class='button '><i class='fa'>3</i></div> </div> </div> <BR> <p class=\"blinking\"><A id='changeFilter'></A></p> <BR><BR><BR> </div> <script src='//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script> <script> $('.button').click(function(){ $el = $(this); if ($el.hasClass('selected')) { } else { $el.siblings().removeClass('selected'); $el.addClass('selected'); $.post('/newState', { wtwtState: this.id } ); } }); function blinker(){ $('.blinking').fadeOut(1000); $('.blinking').fadeIn(1000); } setInterval(blinker, 2000); </SCRIPT> </BODY> </HTML>";
// Setup Page
String indexSetupHTML = "<!DOCTYPE HTML> <meta charset=\"utf-8\"> <meta name=\"apple-mobile-web-app-capable\" content=\"yes\" /> <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\"> <meta name=\"viewport\" content=\"width=device-width, user-scalable=no\"> <title>Renovent HR - WiFi</title> <link rel=\"stylesheet\" href=\"http://code.jquery.com/mobile/1.0/jquery.mobile-1.0.min.css\" /> <link rel=\"stylesheet\" href=\"http://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css\"> <script src=\"http://code.jquery.com/jquery-1.6.4.min.js\"></script> <script src=\"http://code.jquery.com/mobile/1.0/jquery.mobile-1.0.min.js\"></script> <SCRIPT> var xmlHttp=createXmlHttpObject(); var wtwState; function createXmlHttpObject(){ if(window.XMLHttpRequest){ xmlHttp=new XMLHttpRequest(); }else{ xmlHttp=new ActiveXObject('Microsoft.XMLHTTP'); } return xmlHttp; } function process(){ document.getElementById(\"networks_found\").innerHTML=\"...scanning networks...\" if(xmlHttp.readyState==0 || xmlHttp.readyState==4){ xmlHttp.open('get','/networks',true); xmlHttp.onreadystatechange=handleServerResponse; xmlHttp.send(null); } } function handleServerResponse(){ if(xmlHttp.readyState==4 && xmlHttp.status==200){ jsonResponse = JSON.parse(xmlHttp.responseText); var selectBox = document.getElementById(\"listbox_networks\"); selectBox.innerHTML = \"\"; for (var i = 0; i < jsonResponse.Networks.length; i++) { var counter = jsonResponse.Networks[i].SSID; var RSSI = jsonResponse.Networks[i].RSSI; var signalQuality = 0; switch (true) { case (RSSI <= -100): signalQuality=0; break; case (RSSI >= -50): signalQuality=100; break; default: signalQuality=2*(RSSI+100); break; } var hasOption = $('#listbox_networks option[value=\"' + jsonResponse.Networks[i].SSID + '\"]'); if (hasOption.length == 0) { var option = document.createElement('option'); option.text = jsonResponse.Networks[i].SSID +\" (\"+signalQuality+\"%)\"; option.value = jsonResponse.Networks[i].SSID; selectBox.add(option, 0); } } document.getElementById(\"networks_found\").innerHTML=selectBox.length+\" networks found\" } } </SCRIPT> <BODY onload='process()'> <div data-role=\"header\" data-position=\"inline\"> <h1>Renovent HR</h1> </div> <div class=\"ui-body ui-body-a\"> <BR>Using this webpage you can change the WiFi configuration settings of the Renovent HR.<BR><BR> </div> <div class=\"ui-body ui-group-theme-a\"> <label>SSID: </label><input name='ssid' id='ssid' length=32 value='SSID'><br> <label>Passphrase: </label><input name='pass' id='pass' length=64 type='password' value='password'><br> <label>MQTT broker (optional): </label><input name='mqtt' id='mqtt' length=32 value='192.168.0.1'> <button onclick=\"save()\">Save</button> <center><A id='saved'></A></center> <br> <hr> Feel free to select a network that I found (why type if you can be lazy?). <select id='listbox_networks' onchange='listboxUpdate(this)'></select> <button onclick=\"process()\" id='scan_networks'>Scan networks</button> <center><A id='networks_found'></A></center> </font> </div> <SCRIPT> function listboxUpdate(dropdownlistNetworks) { var selectedText = dropdownlistNetworks.options[dropdownlistNetworks.selectedIndex].innerHTML; var selectedValue = dropdownlistNetworks.value; document.getElementById('ssid').value=selectedValue; document.getElementById('pass').value=''; } function save() { $.post('/save', { ssid: document.getElementById('ssid').value, pass: document.getElementById('pass').value, mqtt: document.getElementById('mqtt').value} ); document.getElementById(\"saved\").innerHTML=\"New configuration saved\" } </SCRIPT> </BODY> </HTML>";
